<div class="container mt-5">

  <div>
    <div class="row mt-4">
      <form id="file-upload-form" class="uploader">
        <label for="file-upload" id="file-drag" [class]="previewClass"
               (dragover)="onDragover($event)"
               (dragleave)="onDragout($event)"
               (drop)="drop($event)"
        >
          <input id="file-upload" type="file" multiple name="fileUpload" accept="*" (change)="onSelectFiles($event)"/>
          <div id="start">
            <i class="fa fa-download" aria-hidden="true"></i>
            <div>Déposer les fichiers</div>
            <span id="file-upload-btn" class="btn btn-primary">Sélectionner des fichers</span>
          </div>
        </label>
      </form>
    </div>


    <div>
      <div class="d-flex justify-content-center">
        <button class="button-load" (click)="upload()" [disabled]="isLoading" [ngClass]="{'opacity-75': isLoading}">
          <span class="me-3 fw-bold" *ngIf="isLoading else downloadButton"><i class="fa fa-refresh fa-spin"></i></span>
          <ng-template #downloadButton><span class="me-3 fw-bold"><i class="fa fa-file-pdf-o"></i></span></ng-template>
          <span class="me-1 fw-bold">Fusionner</span>
        </button>
      </div>
    </div>


    <div class="row mt-4">
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col" class="text-center" style="width:20%">#</th>
          <th scope="col" class="text-center" style="width:60%">Nom du fichier</th>
          <th scope="col" class="text-center" style="width:20%">Taille</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let file of files; let i = index" class="text-center">
          <th scope="row">{{ i + 1 }}</th>
          <td>
            {{ file?.name }}
          </td>
          <td>{{ formatBytes(file?.size) }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
